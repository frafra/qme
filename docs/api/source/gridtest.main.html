

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gridtest.main package &mdash; GridTest Python 11 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../assets/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../assets/documentation_options.js"></script>
        <script type="text/javascript" src="../assets/jquery.js"></script>
        <script type="text/javascript" src="../assets/underscore.js"></script>
        <script type="text/javascript" src="../assets/doctools.js"></script>
        <script type="text/javascript" src="../assets/language_data.js"></script>
    
    <script type="text/javascript" src="../assets/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../assets/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../assets/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gridtest.templates package" href="gridtest.templates.html" />
    <link rel="prev" title="gridtest.logger package" href="gridtest.logger.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GridTest Python
          

          
            
            <img src="../assets/logo.gif" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="gridtest.html">gridtest package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="gridtest.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gridtest.client.html">gridtest.client package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gridtest.logger.html">gridtest.logger package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">gridtest.main package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.check">gridtest.main.check module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.expand">gridtest.main.expand module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.generate">gridtest.main.generate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.grids">gridtest.main.grids module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.helpers">gridtest.main.helpers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.substitute">gridtest.main.substitute module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.test">gridtest.main.test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.update">gridtest.main.update module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main.workers">gridtest.main.workers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gridtest.main">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gridtest.templates.html">gridtest.templates package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest.decorators">gridtest.decorators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest.defaults">gridtest.defaults module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest.func">gridtest.func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest.utils">gridtest.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest.version">gridtest.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gridtest.html#module-gridtest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">CHANGELOG</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GridTest Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="gridtest.html">gridtest package</a> &raquo;</li>
        
      <li>gridtest.main package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/gridtest.main.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gridtest-main-package">
<h1>gridtest.main package<a class="headerlink" href="#gridtest-main-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-gridtest.main.check">
<span id="gridtest-main-check-module"></span><h2>gridtest.main.check module<a class="headerlink" href="#module-gridtest.main.check" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="function">
<dt id="gridtest.main.check.check_tests">
<code class="sig-prename descclassname">gridtest.main.check.</code><code class="sig-name descname">check_tests</code><span class="sig-paren">(</span><em class="sig-param">testfile</em>, <em class="sig-param">include_private=False</em>, <em class="sig-param">include_classes=True</em>, <em class="sig-param">skip_patterns=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/check.html#check_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.check.check_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to get_missing_tests, but we return 0 if no new tests are
to be added, and 1 otherwise.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>testfile (str) : the yaml test file</p></li>
<li><p>include_private (bool) : include “private” functions</p></li>
<li><p>include_classes (bool) : include classes</p></li>
<li><p>skip_patterns (list) : list of test keys (patterns) to exclude</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.check.get_missing_tests">
<code class="sig-prename descclassname">gridtest.main.check.</code><code class="sig-name descname">get_missing_tests</code><span class="sig-paren">(</span><em class="sig-param">testfile</em>, <em class="sig-param">include_private=False</em>, <em class="sig-param">skip_patterns=None</em>, <em class="sig-param">include_classes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/check.html#get_missing_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.check.get_missing_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a testing file, load in as a GridRunner, load the module again,
and check if new tests need to be generated. Optionally take patterns
to skip. If no new tests are added, we return 0. Otherwise, we exit with
1. This is similar to black linting, and is intended for running in CI
to pass if a user has written all tests to correpond with their module
(akin to a more rigorous coverage tool).</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>testfile (str) : the yaml test file</p></li>
<li><p>include_private (bool) : include “private” functions</p></li>
<li><p>skip_patterns (list) : list of test keys (patterns) to exclude</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.expand">
<span id="gridtest-main-expand-module"></span><h2>gridtest.main.expand module<a class="headerlink" href="#module-gridtest.main.expand" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="function">
<dt id="gridtest.main.expand.custom_range">
<code class="sig-prename descclassname">gridtest.main.expand.</code><code class="sig-name descname">custom_range</code><span class="sig-paren">(</span><em class="sig-param">start</em>, <em class="sig-param">stop</em>, <em class="sig-param">by=1.0</em>, <em class="sig-param">precision=2</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/expand.html#custom_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.expand.custom_range" title="Permalink to this definition">¶</a></dt>
<dd><p>the range function only accepts integers, and user’s will likely
want to provide float. Thus we use custom_range to provide this</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>start (int or float) : the starting value</p></li>
<li><p>stop (int or float) : go up to this value</p></li>
<li><p>by (float or int) : increment by this value (default 1.0)</p></li>
<li><p>precision (int) : decimals to round to (default 2)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.expand.expand_args">
<code class="sig-prename descclassname">gridtest.main.expand.</code><code class="sig-name descname">expand_args</code><span class="sig-paren">(</span><em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/expand.html#expand_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.expand.expand_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a grid of arguments, expand special cases into longer lists
of arguments.
E.g., convert an entry with these keys:</p>
<p>into:</p>
<p>In the case that a grid has a string identifier to point to a key
in the lookup, we use that listing of values instead that should
already be calculated.</p>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.generate">
<span id="gridtest-main-generate-module"></span><h2>gridtest.main.generate module<a class="headerlink" href="#module-gridtest.main.generate" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="function">
<dt id="gridtest.main.generate.extract_functions">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">extract_functions</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">include_private=False</em>, <em class="sig-param">quiet=False</em>, <em class="sig-param">include_classes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#extract_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.extract_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a filename, extract a module and associated functions with it
into a grid test. This means creating a structure with function
names and (if provided) default inputs. The user will fill in
the rest of the file. The function can be used easily recursively by calling
itself to get metadata for a subclass, and passing along the (already
imported) module.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>filename (str) : a filename or module name to parse</p></li>
<li><p>include_private (bool) : include “private” functions</p></li>
<li><p>quiet (bool) : suppress additional output</p></li>
<li><p>include_classes (bool) : extract classes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.extract_modulename">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">extract_modulename</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">input_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#extract_modulename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.extract_modulename" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a module, file, or relative path for a filename. First</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>filename (str) : a filename or module name to parse</p></li>
<li><dl class="simple">
<dt>input_dir (str)<span class="classifier">an input directory with the recipe, in case</span></dt><dd><p>of a local file.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.formulate_arg">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">formulate_arg</code><span class="sig-paren">(</span><em class="sig-param">arg</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#formulate_arg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.formulate_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a data structure (dictionary) with the argument as key,
and a default defined, along with a random value to test.</p>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.generate_tests">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">generate_tests</code><span class="sig-paren">(</span><em class="sig-param">module</em>, <em class="sig-param">output=None</em>, <em class="sig-param">include_private=False</em>, <em class="sig-param">force=False</em>, <em class="sig-param">include_classes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#generate_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.generate_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a test output file for some input module. If an output file
is specified and already has existing content, in the case that check is
used, we only print section names that have not been written. If check
is used and the file doesn’t exist, we print the tests to create to the
screen. If an existing file is found and check isn’t used, we only
update it with tests not yet written. This functionality is provided
so that the user can easily update a testing file without erasing old
tests. A “module” input variable can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>a script path explitly</p></li>
<li><p>a directory path with files to be recursively discovered</p></li>
<li><p>a module name</p></li>
</ul>
</div></blockquote>
<p>By default, if a testing file is provided that already has sections defined,
they will not be overwritten (but new sections will be added). If the
user wants to produce a new (reset) template, the file should be deleted
and generate run freshly.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>module (str) : a file, directory, or module name to parse</p></li>
<li><p>output (str) : a path to a yaml file to save to</p></li>
<li><p>include_private (bool) : include “private” functions</p></li>
<li><p>force (bool) : force overwrite existing functions (default False)</p></li>
<li><p>include_classes (bool) : extract classes to write tests too</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.get_function_typing">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">get_function_typing</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#get_function_typing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.get_function_typing" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a function that is inspected or otherwise present, return
a lookup of arguments with any expected default types. This is
done at runtime and done as a check, and done here so we don’t need
to install mypy.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>func (function) : loaded function to return types for</p></li>
</ul>
</dd>
<dt>Returns: lookup dictionary of variable names and types. Return</dt><dd><p>is in the lookup and corresponds to the value of the return.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.import_module">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">import_module</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#import_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.import_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Import module will try import of a module based on a name. If import
fails and there are no ., we expect that it could be a script in the
present working directory and add .&lt;script&gt;</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>name (str) : the name of the module to import</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.generate.include_function">
<code class="sig-prename descclassname">gridtest.main.generate.</code><code class="sig-name descname">include_function</code><span class="sig-paren">(</span><em class="sig-param">funcname</em>, <em class="sig-param">func</em>, <em class="sig-param">include_classes=True</em>, <em class="sig-param">include_private=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/generate.html#include_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.generate.include_function" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper to determine if a function (or class) should be included.
Returns True for yes, False otherwise.</p>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.grids">
<span id="gridtest-main-grids-module"></span><h2>gridtest.main.grids module<a class="headerlink" href="#module-gridtest.main.grids" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="class">
<dt id="gridtest.main.grids.Grid">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.grids.</code><code class="sig-name descname">Grid</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">params</em>, <em class="sig-param">filename=''</em>, <em class="sig-param">refs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#Grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="gridtest.main.grids.Grid.apply_function">
<code class="sig-name descname">apply_function</code><span class="sig-paren">(</span><em class="sig-param">funcname</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#Grid.apply_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.Grid.apply_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a function (a name, or a dictionary to derive name and other
options from) run some set of input variables (that are taken by
the function) through it to derive a result. The result returned
is used to set another variable. If a count is defined, we
run the function (count) times and return a list. Otherwise, we
run it once.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>funcname (str or dict) : the function name or definition</p></li>
<li><p>args (dict) : lookup of arguments for the function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.grids.Grid.generate_references">
<code class="sig-name descname">generate_references</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#Grid.generate_references"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.Grid.generate_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a loaded set of references from other grids (self.refs)
load them into the current args space.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.grids.Grid.get_function">
<code class="sig-name descname">get_function</code><span class="sig-paren">(</span><em class="sig-param">funcname</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#Grid.get_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.Grid.get_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a function name, return it. Exit on error if not found.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.grids.Grid.unwrap_functions">
<code class="sig-name descname">unwrap_functions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#Grid.unwrap_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.Grid.unwrap_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Given that a function is to be unwrapped, this means that we
evaluate it first to generate a list that is used to updated args.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="gridtest.main.grids.intersect_args">
<code class="sig-prename descclassname">gridtest.main.grids.</code><code class="sig-name descname">intersect_args</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/grids.html#intersect_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.grids.intersect_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a loaded function and a dictionary of args, return the
overlapping set (those that are allowed to be given to the
function</p>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.helpers">
<span id="gridtest-main-helpers-module"></span><h2>gridtest.main.helpers module<a class="headerlink" href="#module-gridtest.main.helpers" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="class">
<dt id="gridtest.main.helpers.Capturing">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.helpers.</code><code class="sig-name descname">Capturing</code><a class="reference internal" href="../modules/gridtest/main/helpers.html#Capturing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.Capturing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>capture output from stdout and stderr into capture object</p>
<dl class="method">
<dt id="gridtest.main.helpers.Capturing.set_stderr">
<code class="sig-name descname">set_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#Capturing.set_stderr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.Capturing.set_stderr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridtest.main.helpers.Capturing.set_stdout">
<code class="sig-name descname">set_stdout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#Capturing.set_stdout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.Capturing.set_stdout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="gridtest.main.helpers.get_function">
<code class="sig-prename descclassname">gridtest.main.helpers.</code><code class="sig-name descname">get_function</code><span class="sig-paren">(</span><em class="sig-param">module</em>, <em class="sig-param">funcname</em>, <em class="sig-param">args</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#get_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.get_function" title="Permalink to this definition">¶</a></dt>
<dd><p>given a module name, function name, argument, and filename, derive
a function, optionally deriving an instance first that it might
belong to</p>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.helpers.print_interactive">
<code class="sig-prename descclassname">gridtest.main.helpers.</code><code class="sig-name descname">print_interactive</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#print_interactive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.print_interactive" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper function to print locals that are relevant to test_basic for
the user.</p>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.helpers.test_basic">
<code class="sig-prename descclassname">gridtest.main.helpers.</code><code class="sig-name descname">test_basic</code><span class="sig-paren">(</span><em class="sig-param">funcname</em>, <em class="sig-param">module</em>, <em class="sig-param">filename</em>, <em class="sig-param">func=None</em>, <em class="sig-param">args=None</em>, <em class="sig-param">returns=None</em>, <em class="sig-param">interactive=False</em>, <em class="sig-param">metrics=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#test_basic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.test_basic" title="Permalink to this definition">¶</a></dt>
<dd><p>test basic is a worker version of the task.test_basic function.
If a function is not provided, funcname, module, and filename are
required to retrieve it. A function can only be provided directly
if it is pickle serializable (multiprocessing would require this).
It works equivalently but is not attached to a class, and returns
a list of values for [passed, result, out, err, raises]</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>funcname (str) : the name of the function to import</p></li>
<li><p>module (str) : the base module to get the function from</p></li>
<li><p>func (Function) : if running serial, function can be directly provided</p></li>
<li><p>args (dict) : dictionary of arguments</p></li>
<li><p>returns (type) : a returns type to test for</p></li>
<li><p>interactive (bool) : run in interactive mode (giving user shell)</p></li>
<li><p>metrics (list) : one or more metrics (decorators) to run.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.helpers.test_types">
<code class="sig-prename descclassname">gridtest.main.helpers.</code><code class="sig-name descname">test_types</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">args=None</em>, <em class="sig-param">returns=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/helpers.html#test_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.helpers.test_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a loaded function, get it’s types and ensure that they are
correct. Returns a boolean to indicate correct/ passing (True)</p>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.substitute">
<span id="gridtest-main-substitute-module"></span><h2>gridtest.main.substitute module<a class="headerlink" href="#module-gridtest.main.substitute" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="function">
<dt id="gridtest.main.substitute.substitute_args">
<code class="sig-prename descclassname">gridtest.main.substitute.</code><code class="sig-name descname">substitute_args</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/substitute.html#substitute_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.substitute.substitute_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value, determine if it has variable argument substitutions
in the format of {{ args.&lt;name&gt; }} and if so, if the argument is present
return the value with the substitution.</p>
</dd></dl>

<dl class="function">
<dt id="gridtest.main.substitute.substitute_func">
<code class="sig-prename descclassname">gridtest.main.substitute.</code><code class="sig-name descname">substitute_func</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">funcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/substitute.html#substitute_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.substitute.substitute_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value, determine if it contains a function substitution,
and if it’s one an important function (e.g., one from gridtest.helpers)
return the value with the function applied.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>value (str) : the value to do the substitution for.</p></li>
<li><p>funcs (dict) : lookup dictionary of functions to be used</p></li>
</ul>
</dd>
<dt>Notes:</dt><dd><p>A function should be in the format: {% tempfile.mkdtemp %}
(global import) or a function in gridtest.func in the format
{% tmp_path %}. If arguments are supplied, they should be in
the format {% tmp_path arg1=1 arg2=2 %}</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.test">
<span id="gridtest-main-test-module"></span><h2>gridtest.main.test module<a class="headerlink" href="#module-gridtest.main.test" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="class">
<dt id="gridtest.main.test.GridRunner">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.test.</code><code class="sig-name descname">GridRunner</code><span class="sig-paren">(</span><em class="sig-param">input_file</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="gridtest.main.test.GridRunner.failed">
<code class="sig-name descname">failed</code><span class="sig-paren">(</span><em class="sig-param">tests</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.failed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a test of tests, return True if any are not successful.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.get_grids">
<code class="sig-name descname">get_grids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.get_grids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.get_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>a grid is a specification under “grids” that can be run to
parameterize a set of arguments, optionally run through a function
or just generated to have combinations. If a count variable is
included, we multiply by that many times.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.get_tests">
<code class="sig-name descname">get_tests</code><span class="sig-paren">(</span><em class="sig-param">regexp=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">cleanup=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.get_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.get_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>get tests based on a regular expression.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>regexp (str) : if provided, only include those tests that match.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.iter_grids">
<code class="sig-name descname">iter_grids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.iter_grids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.iter_grids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.iter_tests">
<code class="sig-name descname">iter_tests</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.iter_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.iter_tests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">input_file</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load a testing gridtest file.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.print_results">
<code class="sig-name descname">print_results</code><span class="sig-paren">(</span><em class="sig-param">tests</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.print_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.print_results" title="Permalink to this definition">¶</a></dt>
<dd><p>print the results of the tests, meaning that success is in green,
and non-success is in red.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">regexp=None</em>, <em class="sig-param">parallel=True</em>, <em class="sig-param">nproc=None</em>, <em class="sig-param">show_progress=True</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">interactive=False</em>, <em class="sig-param">name=None</em>, <em class="sig-param">cleanup=True</em>, <em class="sig-param">save=None</em>, <em class="sig-param">save_report=None</em>, <em class="sig-param">save_compact=False</em>, <em class="sig-param">save_metrics=None</em>, <em class="sig-param">report_template='report'</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run the grid runner, meaning that we turn each function and set of
tests into a single test, and then run with multiprocessing.
This is the function called by the user that also does filtering
of tests based on a regular expression before calling them.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>regexp (str) : if supplied, filter to this pattern</p></li>
<li><p>parallel (bool) : use multiprocessing to run tasks (default True)</p></li>
<li><p>show_progress (bool) : show progress instead of task information</p></li>
<li><p>nproc (int) : number of processes to use for parallel testing</p></li>
<li><p>verbose (bool) : print success output too</p></li>
<li><p>interactive (bool) : interactively debug functions</p></li>
<li><p>name (str) : if specified, a name of a test to interact with</p></li>
<li><p>cleanup (bool) : cleanup files/directories generated with tmp_path tmp_dir</p></li>
<li><p>save (str) : a filepath to save results to (must be json)</p></li>
<li><p>save_report (str) : path to folder (not existing) to save a report to</p></li>
<li><p>report_template (str) : a template name of a report to generate</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.run_tests">
<code class="sig-name descname">run_tests</code><span class="sig-paren">(</span><em class="sig-param">tests</em>, <em class="sig-param">nproc=9</em>, <em class="sig-param">parallel=True</em>, <em class="sig-param">interactive=False</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.run_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.run_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>run tests. By default, we run them in parallel, unless serial
is selected.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>parallel (bool) : run tasks in parallel that are able (default is True)</p></li>
<li><p>nproc (int) : number of processes to run</p></li>
<li><p>cleanup (bool) : clean up files/dir generated with tmp_path, tmp_dir</p></li>
<li><p>name (str) : the name of a test to interact with</p></li>
<li><p>interactive (bool) : run jobs interactively (for debugging)
not available for parallel jobs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">testfile</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the runner.config to an output yaml file.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.save_metrics">
<code class="sig-name descname">save_metrics</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">tests</em>, <em class="sig-param">save_compact=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.save_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.save_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>save metrics to file. This is the same data as a general results
export, but without the results, and without the params.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>filename (str) : the json file to save to (must end in json)</p></li>
<li><p>tests (gridtest.main.test.GridTest) : the gridtest object</p></li>
<li><p>save_compact (bool) : don’t pretty print</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.save_report">
<code class="sig-name descname">save_report</code><span class="sig-paren">(</span><em class="sig-param">report_dir</em>, <em class="sig-param">report_template</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.save_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.save_report" title="Permalink to this definition">¶</a></dt>
<dd><p>save a runner results to file.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.save_results">
<code class="sig-name descname">save_results</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">tests</em>, <em class="sig-param">save_compact=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.save_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.save_results" title="Permalink to this definition">¶</a></dt>
<dd><p>save a runner results to file.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>filename (str) : the json file to save to (must end in json)</p></li>
<li><p>tests (gridtest.main.test.GridTest) : the gridtest object</p></li>
<li><p>save_compact (bool) : don’t pretty print</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.set_name">
<code class="sig-name descname">set_name</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.set_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.set_name" title="Permalink to this definition">¶</a></dt>
<dd><p>set a custom name. If the user provides a name to the GridRunner,
this name will be used. Otherwise we use the basename of the input
file.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>name (str): the name of the input file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridRunner.success">
<code class="sig-name descname">success</code><span class="sig-paren">(</span><em class="sig-param">tests</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridRunner.success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridRunner.success" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a test of tests, return True if all are successful.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridtest.main.test.GridTest">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.test.</code><code class="sig-name descname">GridTest</code><span class="sig-paren">(</span><em class="sig-param">module</em>, <em class="sig-param">name</em>, <em class="sig-param">func=None</em>, <em class="sig-param">filename=None</em>, <em class="sig-param">params=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">cleanup=True</em>, <em class="sig-param">show_progress=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="gridtest.main.test.GridTest.check_equals">
<code class="sig-name descname">check_equals</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_equals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_equals" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a result equals some statement.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_exists">
<code class="sig-name descname">check_exists</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a filename exists.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_isfalse">
<code class="sig-name descname">check_isfalse</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_isfalse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_isfalse" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a statement is false</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_isinstance">
<code class="sig-name descname">check_isinstance</code><span class="sig-paren">(</span><em class="sig-param">instance</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_isinstance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_isinstance" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the result is of a particular type</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_istrue">
<code class="sig-name descname">check_istrue</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_istrue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_istrue" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a statement is true.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_metrics">
<code class="sig-name descname">check_metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>After runs are complete, given metrics defined in params, parse
over the list and look for metric output in the output (and remove)</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_output">
<code class="sig-name descname">check_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Given that self.result is defined, check final output for the test.
This works (and is called) after self.run(), OR by the multiprocessing
worker that has updated self.result. Each of the actions below
does additional parsing of the result, and the client will update
self.success to be False if there is an issue.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_raises">
<code class="sig-name descname">check_raises</code><span class="sig-paren">(</span><em class="sig-param">exception</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_raises"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_raises" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that running a function raises a particular error. If the
function runs successfully, this is considered a failure.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.check_returns">
<code class="sig-name descname">check_returns</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.check_returns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.check_returns" title="Permalink to this definition">¶</a></dt>
<dd><p>test that a function returns a particular value. The value might
reference an input variable, so we use the args dictionary to
substitute</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of paths (files or folders) generated by gridtest,
clean them up with shutil.rm</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.get_func">
<code class="sig-name descname">get_func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.get_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.get_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the function name, meaning we get the module first. This can
also be used for one off (custom) function and module names.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.get_funcname">
<code class="sig-name descname">get_funcname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.get_funcname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.get_funcname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the function name, meaning we get the module first.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.post_substitute">
<code class="sig-name descname">post_substitute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.post_substitute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.post_substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>After a run, sometimes we want to check the result (whatever it is)</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>reset a test to it’s original state, meaning that original parameters,
the result, raises, etc. are reset.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">interactive=False</em>, <em class="sig-param">cleanup=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run an isolated test, and store the return code and result with
the tester here.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>interactive (bool) : run interactively for shell to debug</p></li>
<li><p>cleanup (bool) : remove any temporary directories or files (True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.set_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Given params with args that are loaded, making substitutions
at the onset of generating the test. Also keep track of
any directories / files defined by tmp_path and tmp_dir
to clean up after the test is run.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.substitute">
<code class="sig-name descname">substitute</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.substitute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an input value, return the appropriate substituted string for
it. This means that {{ args.x }} references can reference arguments
in params, or {% func %} can refer to a function in the gridtest
helpers namespace.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.summary">
<em class="property">property </em><code class="sig-name descname">summary</code><a class="headerlink" href="#gridtest.main.test.GridTest.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>print a summary of the test, including if it is supposed to
return, raise, or check existance.</p>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.summary_failure">
<code class="sig-name descname">summary_failure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.summary_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.summary_failure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridtest.main.test.GridTest.summary_success">
<code class="sig-name descname">summary_success</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTest.summary_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTest.summary_success" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridtest.main.test.GridTestFunc">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.test.</code><code class="sig-name descname">GridTestFunc</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">params=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">show_progress=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/test.html#GridTestFunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.test.GridTestFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridtest.main.test.GridTest" title="gridtest.main.test.GridTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">gridtest.main.test.GridTest</span></code></a></p>
<p>a function can be loaded from within Python with GridTestFunc.</p>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.update">
<span id="gridtest-main-update-module"></span><h2>gridtest.main.update module<a class="headerlink" href="#module-gridtest.main.update" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="function">
<dt id="gridtest.main.update.update_tests">
<code class="sig-prename descclassname">gridtest.main.update.</code><code class="sig-name descname">update_tests</code><span class="sig-paren">(</span><em class="sig-param">testfile</em>, <em class="sig-param">include_private=False</em>, <em class="sig-param">skip_patterns=None</em>, <em class="sig-param">include_classes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/update.html#update_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.update.update_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a testing file, load in as a GridRunner, load the module again,
and update with new tests not found. Optionally take patterns
to skip. This is akin to check_tests in check.py, but instead we
update the runner and save the file.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>testfile (str) : the yaml test file</p></li>
<li><p>include_private (bool) : include “private” functions</p></li>
<li><p>skip_patterns (list) : list of test keys (patterns) to exclude</p></li>
<li><p>include_classes (bool) : include classes in update (True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-gridtest.main.workers">
<span id="gridtest-main-workers-module"></span><h2>gridtest.main.workers module<a class="headerlink" href="#module-gridtest.main.workers" title="Permalink to this headline">¶</a></h2>
<p>Copyright (C) 2020 Vanessa Sochat.</p>
<p>This Source Code Form is subject to the terms of the
Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed
with this file, You can obtain one at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
<dl class="class">
<dt id="gridtest.main.workers.Workers">
<em class="property">class </em><code class="sig-prename descclassname">gridtest.main.workers.</code><code class="sig-name descname">Workers</code><span class="sig-paren">(</span><em class="sig-param">workers=None</em>, <em class="sig-param">show_progress=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#Workers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.Workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="gridtest.main.workers.Workers.end">
<code class="sig-name descname">end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#Workers.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.Workers.end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridtest.main.workers.Workers.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">tests</em>, <em class="sig-param">cleanup=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#Workers.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.Workers.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run will execute a test for each entry in the list of tests.
the result of the test, and error codes, are saved with the test.</p>
<dl class="simple">
<dt>Arguments:</dt><dd><ul class="simple">
<li><p>tests (gridtest.main.test.GridTest) : the GridTest object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gridtest.main.workers.Workers.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#Workers.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.Workers.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="gridtest.main.workers.init_worker">
<code class="sig-prename descclassname">gridtest.main.workers.</code><code class="sig-name descname">init_worker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#init_worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.init_worker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="gridtest.main.workers.multi_package">
<code class="sig-prename descclassname">gridtest.main.workers.</code><code class="sig-name descname">multi_package</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#multi_package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.multi_package" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="gridtest.main.workers.multi_wrapper">
<code class="sig-prename descclassname">gridtest.main.workers.</code><code class="sig-name descname">multi_wrapper</code><span class="sig-paren">(</span><em class="sig-param">func_args</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/gridtest/main/workers.html#multi_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gridtest.main.workers.multi_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-gridtest.main">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-gridtest.main" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gridtest.templates.html" class="btn btn-neutral float-right" title="gridtest.templates package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gridtest.logger.html" class="btn btn-neutral float-left" title="gridtest.logger package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Vanessa Sochat

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>